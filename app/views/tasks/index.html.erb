<h1>Tasks#index</h1>
<p>Find me in app/views/tasks/index.html.erb</p>

<h1>Listing tasks</h1>

<%= link_to 'New task', new_task_path %>
<%= link_to 'Settings', settings_path %>

<table>
  <tr>
    <th>Title</th>
    <th>Category</th>
    <th>Tags</th>
    <th></th>
  </tr>

  <% @tasks.each do |task| %>
    <tr>
      <td><%= task.title %></td>
      <td>
        <% if task.category then %>
          <span style="color: <%= task.category.color %>; background-color: <%= task.category.color.paint.light? ? "black" : "white" %>;"><%= task.category.title %></span>
        <% end %>
      </td>
      <td>
        <% task.tags.each do |tag| %>
          <span class="badge" style="background-color: <%= tag.color %>; color: <%= tag.color.paint.light? ? "black" : "white" %>;"><%= tag.title %></span>
        <% end %>
      </td>
      <td><%= link_to 'Show', task_path(task) %></td>
      <td><%= link_to 'Edit', edit_task_path(task) %></td>
      <td><%= link_to 'Destroy', task_path(task), method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
</table>