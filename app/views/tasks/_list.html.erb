<% if tasks.size > 0 %>
  <table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">ID</th>
        <th scope="col">√ökol</th>
        <th scope="col">Kategorie</th>
        <th scope="col">Tagy</th>
        <th scope="col">Deadline</th>
        <th scope="col">Datum vytvo≈ôen√≠</th>
        <th scope="col">Datum zmƒõny</th>
        <th scope="col" style="width: 13rem;"></th>
      </tr>
    </thead>
    <tbody>
      <% tasks.each do |task| %>
        <tr>
          <th scope="row"><%= task.id %></th>
          <td>
            <% if task.is_done %><span title="Hotov√Ω √∫kol">‚úîÔ∏è</span><% end %>
            <%= task.title %>
            <% if task.note %><span title="M√° pozn√°mku">üìù</span><% end %>
          </td>
          <% if task.category %>
            <td class="pl-4" style="background: linear-gradient(to right, <%= task.category.color %> 1rem, transparent 1rem);">
              <%= task.category.title %>
            </td>
          <% else %>
            <td></td>
          <% end %>
          <td>
            <% task.tags.each do |tag| %>
              <%= render partial: 'tags/badge', locals: { tag: tag } %>
            <% end %>
          </td>
          <td><%= if task.deadline_at then format_local_datetime task.deadline_at end %></td>
          <td><%= format_datetime task.created_at %></td>
          <td><%= format_datetime task.updated_at %></td>
          <td class="text-right">
            <%= link_to 'Detail', task_path(task) %> |
            <%= link_to 'Upravit', edit_task_path(task) %> |
            <%= link_to 'Smazat', task_path(task), method: :delete, data: { confirm: 'Opravdu smazat?' } %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%= will_paginate tasks %>
<% else %>
  <p>
    Nejsou tu ≈æ√°dn√© √∫koly. P≈ôidejte si <%= link_to 'nov√Ω √∫kol', new_task_path %>.
  </p>
<% end %>
